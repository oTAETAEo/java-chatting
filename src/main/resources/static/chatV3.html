<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>실시간 채팅 V3</title>
    <link rel="stylesheet" href="./css/chatV3.css">
</head>
<body>
<div id="chat-app">

    <!-- 사이드바 -->
    <aside id="sidebar">
        <div style="height:84px ;display: flex; align-items: center; border-bottom: 1px solid #444; margin-bottom: 15px">
            <h3>접속 사용자</h3>
            <button id="add-friend-button">+</button>
        </div>
        <div id="user-list">
            <div class="placeholder">사용자 로딩 중...</div>
        </div>

        <div id="user-profile">
            <div class="profile-pic"></div>
            <div class="profile-info">
                <strong id="profile-name"></strong>
                <span id="profile-email"></span>
            </div>
            <p id="status-message">연결 대기 중...</p>
        </div>
    </aside>

    <!-- 메인 채팅 -->
    <main id="chat-main">
        <header id="chat-header">
            <h2 id="chat-room-name">채널: 모두와 대화 (공개 채팅)</h2>
            <div class="header-actions">
                <button id="disconnect-button">연결 끊기</button>
                <button id="reconnect-button">다시 연결</button>
                <button id="logout-button">로그아웃</button>
            </div>
        </header>

        <section id="chat-messages"></section>

        <div id="chat-input">
            <input id="username-input" disabled placeholder="사용자 이름" />
            <input id="message-input" placeholder="메시지를 입력하세요..." />
            <button id="send-button">전송</button>
        </div>
        <p id="api-result-message"></p>


    <div id="friend-management-backdrop" class="hidden"></div>
    <div id="friend-management-view" class="hidden">
        <div class="friend-view-header">
            <h3>친구 관리</h3>
            <button id="close-friend-view-button">X</button>
        </div>
        <div class="friend-view-tabs">
            <button class="tab-button active" data-tab="sent-requests">보낸 요청</button>
            <button class="tab-button" data-tab="received-requests">받은 요청</button>
            <button class="tab-button" data-tab="all-friends">모든 친구</button>
        </div>
        <div class="friend-view-content">
            <div id="sent-requests-content" class="tab-content active">
                <!-- Content for sent requests will go here -->
            </div>
            <div id="received-requests-content" class="tab-content">
                <!-- Content for received requests will go here -->
            </div>
            <div id="all-friends-content" class="tab-content">
                <!-- Content for all friends will go here -->
            </div>
        </div>
    </div>
</main>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="./js/chatV3.js"></script>

<div id="modal-container">
    <div id="profile-modal">
        <div class="modal-content">
            <button id="friend-management-button">친구관리</button>
        </div>
    </div>
</div>

</body>
</html>
